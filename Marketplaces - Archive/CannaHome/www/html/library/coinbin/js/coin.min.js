!function(){var B=window.coinjs=function(){};B.pub=0,B.priv=128,B.multisig=5,B.hdkey={prv:76066276,pub:76067358},B.bech32={charset:"qpzry9x8gf2tvdw0s3jn54khce6mua7l",version:0,hrp:"bc"},B.compressed=!1,B.developer="3K1oFZMks41C7qDYBsr72SYjapLqDuSYuN",B.host="anon",B.uid="1",B.key="12345678901234567890123456789012",B.newKeys=function(e){var t=e?Crypto.SHA256(e):this.newPrivkey(),s=this.newPubkey(t);return{privkey:t,pubkey:s,address:this.pubkey2address(s),wif:this.privkey2wif(t),compressed:this.compressed}},B.newPrivkey=function(){var e=window.location;e+=window.screen.height*window.screen.width*window.screen.colorDepth,e+=B.random(64),e+=window.screen.availHeight*window.screen.availWidth*window.screen.pixelDepth,e+=navigator.language,e+=window.history.length,e+=B.random(64),e+=navigator.userAgent,e+="coinb.in",e+=Crypto.util.randomBytes(64).join(""),e+=e.length,e+=(new Date).getTimezoneOffset(),e+=B.random(64);var t=e+=e+""+e;for(i=0;i<e.length/25;i++)t=Crypto.SHA256(t.concat(e));for(var s=new BigInteger(t),r=new BigInteger("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");0<=s.compareTo(r)||s.equals(BigInteger.ZERO)||s.equals(BigInteger.ONE);)t=Crypto.SHA256(t.concat(e)),s=new BigInteger(t);return t},B.newPubkey=function(e){var t=BigInteger.fromByteArrayUnsigned(Crypto.util.hexToBytes(e)),s=EllipticCurve.getSECCurveByName("secp256k1").getG().multiply(t),r=s.getX().toBigInteger(),i=s.getY().toBigInteger(),n=EllipticCurve.integerToBytes(r,32);if((n=n.concat(EllipticCurve.integerToBytes(i,32))).unshift(4),1==B.compressed){var c=EllipticCurve.integerToBytes(r,32);return i.isEven()?c.unshift(2):c.unshift(3),Crypto.util.bytesToHex(c)}return Crypto.util.bytesToHex(n)},B.pubkey2address=function(e,t){var s=ripemd160(Crypto.SHA256(Crypto.util.hexToBytes(e),{asBytes:!0}));s.unshift(t||B.pub);var r=Crypto.SHA256(Crypto.SHA256(s,{asBytes:!0}),{asBytes:!0}).slice(0,4);return B.base58encode(s.concat(r))},B.scripthash2address=function(e){var t=Crypto.util.hexToBytes(e);t.unshift(B.pub);var s=t,r=(s=Crypto.SHA256(Crypto.SHA256(s,{asBytes:!0}),{asBytes:!0})).slice(0,4);return B.base58encode(t.concat(r))},B.pubkeys2MultisigAddress=function(e,t){var s=B.script();s.writeOp(81+1*t-1);for(var r=0;r<e.length;++r)s.writeBytes(Crypto.util.hexToBytes(e[r]));s.writeOp(81+e.length-1),s.writeOp(174);var i=ripemd160(Crypto.SHA256(s.buffer,{asBytes:!0}),{asBytes:!0});i.unshift(B.multisig);var n=i,c=(n=Crypto.SHA256(Crypto.SHA256(n,{asBytes:!0}),{asBytes:!0})).slice(0,4),a=Crypto.util.bytesToHex(s.buffer),o=B.base58encode(i.concat(c));return 520<s.buffer.length&&(a=o="invalid"),{address:o,redeemScript:a,size:s.buffer.length}},B.simpleHodlAddress=function(e,t){if(t<0)throw"Parameter for OP_CHECKLOCKTIMEVERIFY is negative.";var s=B.script();s.writeBytes(B.numToByteArray(t)),s.writeOp(177),s.writeOp(117),s.writeBytes(Crypto.util.hexToBytes(e)),s.writeOp(172);var r=ripemd160(Crypto.SHA256(s.buffer,{asBytes:!0}),{asBytes:!0});r.unshift(B.multisig);var i=r,n=(i=Crypto.SHA256(Crypto.SHA256(i,{asBytes:!0}),{asBytes:!0})).slice(0,4),c=Crypto.util.bytesToHex(s.buffer);return{address:B.base58encode(r.concat(n)),redeemScript:c}},B.segwitAddress=function(e){var t=[0,20].concat(ripemd160(Crypto.SHA256(Crypto.util.hexToBytes(e),{asBytes:!0}),{asBytes:!0})),s=ripemd160(Crypto.SHA256(t,{asBytes:!0}),{asBytes:!0});s.unshift(B.multisig);var r=s,i=(r=Crypto.SHA256(Crypto.SHA256(r,{asBytes:!0}),{asBytes:!0})).slice(0,4);return{address:B.base58encode(s.concat(i)),type:"segwit",redeemscript:Crypto.util.bytesToHex(t)}},B.bech32Address=function(e){var t=ripemd160(Crypto.SHA256(Crypto.util.hexToBytes(e),{asBytes:!0}),{asBytes:!0});return{address:B.bech32_encode(B.bech32.hrp,[B.bech32.version].concat(B.bech32_convert(t,8,5,!0))),type:"bech32",redeemscript:Crypto.util.bytesToHex(t)}},B.bech32redeemscript=function(e){var t=B.bech32_decode(e);return!!t&&(t.data.shift(),Crypto.util.bytesToHex(B.bech32_convert(t.data,5,8,!0)))},B.privkey2wif=function(e){var t=Crypto.util.hexToBytes(e);1==B.compressed&&t.push(1),t.unshift(B.priv);var s=Crypto.SHA256(Crypto.SHA256(t,{asBytes:!0}),{asBytes:!0}).slice(0,4);return B.base58encode(t.concat(s))},B.wif2privkey=function(e){var t=!1,s=B.base58decode(e),r=s.slice(0,s.length-4);return 33<=(r=r.slice(1,r.length)).length&&1==r[r.length-1]&&(r=r.slice(0,r.length-1),t=!0),{privkey:Crypto.util.bytesToHex(r),compressed:t}},B.wif2pubkey=function(e){var t=B.compressed,s=B.wif2privkey(e);B.compressed=s.compressed;var r=B.newPubkey(s.privkey);return B.compressed=t,{pubkey:r,compressed:s.compressed}},B.wif2address=function(e){var t=B.wif2pubkey(e);return{address:B.pubkey2address(t.pubkey),compressed:t.compressed}},B.addressDecode=function(e){if(bech32rs=B.bech32redeemscript(e),bech32rs)return{type:"bech32",redeemscript:bech32rs};try{var t=B.base58decode(e),s=t.slice(0,t.length-4),r=t.slice(t.length-4);if(Crypto.SHA256(Crypto.SHA256(s,{asBytes:!0}),{asBytes:!0}).slice(0,4)+""==r+""){var i={};if(i.bytes=s.slice(1),i.version=s[0],i.version==B.pub)i.type="standard";else if(i.version==B.multisig)i.type="multisig";else if(i.version==B.priv)i.type="wifkey";else if(42==i.version){if(i.type="stealth",i.option=s[1],0!=i.option)return alert("Stealth Address option other than 0 is currently not supported!"),!1;if(i.scankey=Crypto.util.bytesToHex(s.slice(2,35)),i.n=s[35],1<i.n)return alert("Stealth Multisig is currently not supported!"),!1;if(i.spendkey=Crypto.util.bytesToHex(s.slice(36,69)),i.m=s[69],i.prefixlen=s[70],0<i.prefixlen)return alert("Stealth Address Prefixes are currently not supported!"),!1;i.prefix=s.slice(71)}else i.type="other";return i}return!1}catch(e){return!1}},B.addressBalance=function(e,t){B.ajax(B.host+"?uid="+B.uid+"&key="+B.key+"&setmodule=addresses&request=bal&address="+e+"&r="+Math.random(),t,"GET")},B.pubkeydecompress=function(e){if("string"==typeof e&&e.match(/^[a-f0-9]+$/i)){var t=EllipticCurve.getSECCurveByName("secp256k1");try{var s=t.curve.decodePointHex(e),r=s.getX().toBigInteger(),i=s.getY().toBigInteger(),n=EllipticCurve.integerToBytes(r,32);return(n=n.concat(EllipticCurve.integerToBytes(i,32))).unshift(4),Crypto.util.bytesToHex(n)}catch(e){return!1}}return!1},B.bech32_polymod=function(e){for(var t=1,s=[996825010,642813549,513874426,1027748829,705979059],r=0;r<e.length;++r){var i=t>>25;t=(33554431&t)<<5^e[r];for(var n=0;n<5;++n)i>>n&1&&(t^=s[n])}return t},B.bech32_hrpExpand=function(e){var t,s=[];for(t=0;t<e.length;++t)s.push(e.charCodeAt(t)>>5);for(s.push(0),t=0;t<e.length;++t)s.push(31&e.charCodeAt(t));return s},B.bech32_verifyChecksum=function(e,t){return 1===B.bech32_polymod(B.bech32_hrpExpand(e).concat(t))},B.bech32_createChecksum=function(e,t){for(var s=B.bech32_hrpExpand(e).concat(t).concat([0,0,0,0,0,0]),r=1^B.bech32_polymod(s),i=[],n=0;n<6;++n)i.push(r>>5*(5-n)&31);return i},B.bech32_encode=function(e,t){for(var s=t.concat(B.bech32_createChecksum(e,t)),r=e+"1",i=0;i<s.length;++i)r+=B.bech32.charset.charAt(s[i]);return r},B.bech32_decode=function(e){var t,s=!1,r=!1;for(t=0;t<e.length;++t){if(e.charCodeAt(t)<33||126<e.charCodeAt(t))return null;97<=e.charCodeAt(t)&&e.charCodeAt(t)<=122&&(s=!0),65<=e.charCodeAt(t)&&e.charCodeAt(t)<=90&&(r=!0)}if(s&&r)return null;var i=(e=e.toLowerCase()).lastIndexOf("1");if(i<1||i+7>e.length||90<e.length)return null;var n=e.substring(0,i),c=[];for(t=i+1;t<e.length;++t){var a=B.bech32.charset.indexOf(e.charAt(t));if(-1===a)return null;c.push(a)}return B.bech32_verifyChecksum(n,c)?{hrp:n,data:c.slice(0,c.length-6)}:null},B.bech32_convert=function(e,t,s,r){for(var i=0,n=0,c=(1<<s)-1,a=[],o=0;o<e.length;++o)for(i=i<<t|e[o],n+=t;s<=n;)n-=s,a.push(i>>n&c);if(r)0<n&&a.push(i<<s-n&c);else{if(t<=n)throw new Error("Excess padding");if(i<<s-n&c)throw new Error("Non-zero padding")}return a},B.testdeterministicK=function(){var e=B.transaction(),t=[{message:"test data",privkey:"fee0a1f7afebf9d2a5a80c0c98a31c709681cce195cbcd06342b517970c0be1e",k_bad00:"fcce1de7a9bcd6b2d3defade6afa1913fb9229e3b7ddf4749b55c4848b2a196e",k_bad01:"727fbcb59eb48b1d7d46f95a04991fc512eb9dbf9105628e3aec87428df28fd8",k_bad15:"398f0e2c9f79728f7b3d84d447ac3a86d8b2083c8f234a0ffa9c4043d68bd258"},{message:"Everything should be made as simple as possible, but not simpler.",privkey:"0000000000000000000000000000000000000000000000000000000000000001",k_bad00:"ec633bd56a5774a0940cb97e27a9e4e51dc94af737596a0c5cbb3d30332d92a5",k_bad01:"df55b6d1b5c48184622b0ead41a0e02bfa5ac3ebdb4c34701454e80aabf36f56",k_bad15:"def007a9a3c2f7c769c75da9d47f2af84075af95cadd1407393dc1e26086ef87"},{message:"Satoshi Nakamoto",privkey:"0000000000000000000000000000000000000000000000000000000000000002",k_bad00:"d3edc1b8224e953f6ee05c8bbf7ae228f461030e47caf97cde91430b4607405e",k_bad01:"f86d8e43c09a6a83953f0ab6d0af59fb7446b4660119902e9967067596b58374",k_bad15:"241d1f57d6cfd2f73b1ada7907b199951f95ef5ad362b13aed84009656e0254a"},{message:"Diffie Hellman",privkey:"7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f7f",k_bad00:"c378a41cb17dce12340788dd3503635f54f894c306d52f6e9bc4b8f18d27afcc",k_bad01:"90756c96fef41152ac9abe08819c4e95f16da2af472880192c69a2b7bac29114",k_bad15:"7b3f53300ab0ccd0f698f4d67db87c44cf3e9e513d9df61137256652b2e94e7c"},{message:"Japan",privkey:"8080808080808080808080808080808080808080808080808080808080808080",k_bad00:"f471e61b51d2d8db78f3dae19d973616f57cdc54caaa81c269394b8c34edcf59",k_bad01:"6819d85b9730acc876fdf59e162bf309e9f63dd35550edf20869d23c2f3e6d17",k_bad15:"d8e8bae3ee330a198d1f5e00ad7c5f9ed7c24c357c0a004322abca5d9cd17847"},{message:"Bitcoin",privkey:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",k_bad00:"36c848ffb2cbecc5422c33a994955b807665317c1ce2a0f59c689321aaa631cc",k_bad01:"4ed8de1ec952a4f5b3bd79d1ff96446bcd45cabb00fc6ca127183e14671bcb85",k_bad15:"56b6f47babc1662c011d3b1f93aa51a6e9b5f6512e9f2e16821a238d450a31f8"},{message:"i2FLPP8WEus5WPjpoHwheXOMSobUJVaZM1JPMQZq",privkey:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",k_bad00:"6e9b434fcc6bbb081a0463c094356b47d62d7efae7da9c518ed7bac23f4e2ed6",k_bad01:"ae5323ae338d6117ce8520a43b92eacd2ea1312ae514d53d8e34010154c593bb",k_bad15:"3eaa1b61d1b8ab2f1ca71219c399f2b8b3defa624719f1e96fe3957628c2c4ea"},{message:"lEE55EJNP7aLrMtjkeJKKux4Yg0E8E1SAJnWTCEh",privkey:"3881e5286abc580bb6139fe8e83d7c8271c6fe5e5c2d640c1f0ed0e1ee37edc9",k_bad00:"5b606665a16da29cc1c5411d744ab554640479dd8abd3c04ff23bd6b302e7034",k_bad01:"f8b25263152c042807c992eacd2ac2cc5790d1e9957c394f77ea368e3d9923bd",k_bad15:"ea624578f7e7964ac1d84adb5b5087dd14f0ee78b49072aa19051cc15dab6f33"},{message:"2SaVPvhxkAPrayIVKcsoQO5DKA8Uv5X/esZFlf+y",privkey:"7259dff07922de7f9c4c5720d68c9745e230b32508c497dd24cb95ef18856631",k_bad00:"3ab6c19ab5d3aea6aa0c6da37516b1d6e28e3985019b3adb388714e8f536686b",k_bad01:"19af21b05004b0ce9cdca82458a371a9d2cf0dc35a813108c557b551c08eb52e",k_bad15:"117a32665fca1b7137a91c4739ac5719fec0cf2e146f40f8e7c21b45a07ebc6a"},{message:"00A0OwO2THi7j5Z/jp0FmN6nn7N/DQd6eBnCS+/b",privkey:"0d6ea45d62b334777d6995052965c795a4f8506044b4fd7dc59c15656a28f7aa",k_bad00:"79487de0c8799158294d94c0eb92ee4b567e4dc7ca18addc86e49d31ce1d2db6",k_bad01:"9561d2401164a48a8f600882753b3105ebdd35e2358f4f808c4f549c91490009",k_bad15:"b0d273634129ff4dbdf0df317d4062a1dbc58818f88878ffdb4ec511c77976c0"}],s="\n----------------------\nResults\n----------------------\n\n";for(i=0;i<t.length;i++){var r=Crypto.SHA256(t[i].message.split("").map(function(e){return e.charCodeAt(0)}),{asBytes:!0}),n=B.privkey2wif(t[i].privkey),c=e.deterministicK(n,r),a=e.deterministicK(n,r,0),o=e.deterministicK(n,r,1),u=e.deterministicK(n,r,15),f=Crypto.util.bytesToHex(c.toByteArrayUnsigned()),p=Crypto.util.bytesToHex(a.toByteArrayUnsigned()),h=Crypto.util.bytesToHex(o.toByteArrayUnsigned()),y=Crypto.util.bytesToHex(u.toByteArrayUnsigned());f!=t[i].k_bad00?s+="Failed Test #"+(i+1)+"\n       K = "+f+"\nExpected = "+t[i].k_bad00+"\n\n":p!=t[i].k_bad00?s+="Failed Test #"+(i+1)+"\n      K0 = "+p+"\nExpected = "+t[i].k_bad00+"\n\n":h!=t[i].k_bad01?s+="Failed Test #"+(i+1)+"\n      K1 = "+h+"\nExpected = "+t[i].k_bad01+"\n\n":y!=t[i].k_bad15&&(s+="Failed Test #"+(i+1)+"\n     K15 = "+y+"\nExpected = "+t[i].k_bad15+"\n\n")}return s.length<60&&(s="All Tests OK!"),s},B.hd=function(u){var d={parse:function(){var e=[];if("string"==typeof u){var t=B.base58decode(u);if(82==t.length){var s=t.slice(78,82),r=Crypto.SHA256(Crypto.SHA256(t.slice(0,78),{asBytes:!0}),{asBytes:!0});s[0]==r[0]&&s[1]==r[1]&&s[2]==r[2]&&s[3]==r[3]&&(e=t.slice(0,78))}}if(e&&0<e.length){d.version=B.uint(e.slice(0,4),4),d.depth=B.uint(e.slice(4,5),1),d.parent_fingerprint=e.slice(5,9),d.child_index=B.uint(e.slice(9,13),4),d.chain_code=e.slice(13,45),d.key_bytes=e.slice(45,78);var i=B.compressed;if(B.compressed=!0,0==d.key_bytes[0]){d.type="private";var n=d.key_bytes.slice(1,33),c=Crypto.util.bytesToHex(n),a=B.newPubkey(c);d.keys={privkey:c,pubkey:a,address:B.pubkey2address(a),wif:B.privkey2wif(c)}}else if(2==d.key_bytes[0]||3==d.key_bytes[0]){d.type="public";var o=Crypto.util.bytesToHex(d.key_bytes);d.keys={pubkey:o,address:B.pubkey2address(o)}}else d.type="invalid";d.keys_extended=d.extend(),B.compressed=i}},extend:function(){return B.hd().make({depth:1*this.depth+1,parent_fingerprint:this.parent_fingerprint,child_index:this.child_index,chain_code:this.chain_code,privkey:this.keys.privkey,pubkey:this.keys.pubkey})},derive:function(e){e=e||0;var t,s,r,i,n=Crypto.util.hexToBytes(this.keys.pubkey).concat(B.numToBytes(e,4).reverse()),c=new jsSHA(Crypto.util.bytesToHex(n),"HEX").getHMAC(Crypto.util.bytesToHex(d.chain_code),"HEX","SHA-512","HEX"),a=new BigInteger(c.slice(0,64),16),o=Crypto.util.hexToBytes(c.slice(64,128)),u=EllipticCurve.getSECCurveByName("secp256k1");u.getCurve();if((i=B.clone(this)).chain_code=o,i.child_index=e,"private"==this.type)t=a.add(new BigInteger([0].concat(Crypto.util.hexToBytes(this.keys.privkey)))).mod(u.getN()),s=Crypto.util.bytesToHex(t.toByteArrayUnsigned()),r=B.newPubkey(s),i.keys={privkey:s,pubkey:r,wif:B.privkey2wif(s),address:B.pubkey2address(r)};else if("public"==this.type){q=u.curve.decodePointHex(this.keys.pubkey);var f=u.getG().multiply(a).add(q),p=f.getX().toBigInteger(),h=f.getY().toBigInteger(),y=EllipticCurve.integerToBytes(p,32);h.isEven()?y.unshift(2):y.unshift(3),r=Crypto.util.bytesToHex(y),i.keys={pubkey:r,address:B.pubkey2address(r)}}return i.parent_fingerprint=ripemd160(Crypto.SHA256(Crypto.util.hexToBytes(d.keys.pubkey),{asBytes:!0}),{asBytes:!0}).slice(0,4),i.keys_extended=i.extend(),i},master:function(e){var t=e?Crypto.SHA256(e):B.newPrivkey(),s=new jsSHA(t,"HEX").getHMAC("Bitcoin seed","TEXT","SHA-512","HEX"),r=(Crypto.util.hexToBytes(s.slice(0,64)),Crypto.util.hexToBytes(s.slice(64,128)));return B.hd().make({depth:0,parent_fingerprint:[0,0,0,0],child_index:0,chain_code:r,privkey:s.slice(0,64),pubkey:B.newPubkey(s.slice(0,64))})},make:function(e){var t=[];t.push(1*e.depth),t=(t=(t=t.concat(e.parent_fingerprint)).concat(B.numToBytes(e.child_index,4).reverse())).concat(e.chain_code);var s={};if(e.privkey){var r=B.numToBytes(B.hdkey.prv,4).reverse();(r=r.concat(t)).push(0),r=r.concat(Crypto.util.hexToBytes(e.privkey));var i=Crypto.SHA256(Crypto.SHA256(r,{asBytes:!0}),{asBytes:!0}).slice(0,4),n=r.concat(i);s.privkey=B.base58encode(n)}if(e.pubkey){var c=B.numToBytes(B.hdkey.pub,4).reverse();c=(c=c.concat(t)).concat(Crypto.util.hexToBytes(e.pubkey));i=Crypto.SHA256(Crypto.SHA256(c,{asBytes:!0}),{asBytes:!0}).slice(0,4),n=c.concat(i);s.pubkey=B.base58encode(n)}return s}};return d.parse(),d},B.script=function(e){var i={};return e?"string"==typeof e?i.buffer=Crypto.util.hexToBytes(e):B.isArray(e)?i.buffer=e:e instanceof B.script?i.buffer=e.buffer:i.buffer=e:i.buffer=[],i.parse=function(){var t=this;i.chunks=[];var s=0;function e(e){t.chunks.push(t.buffer.slice(s,s+e)),s+=e}for(;s<this.buffer.length;){var r=this.buffer[s++];if(240<=r&&(r=r<<8|this.buffer[s++]),0<r&&r<76?e(r):76==r?e(this.buffer[s++]):77==r?e(this.buffer[s++]<<8|this.buffer[s++]):78==r?e(this.buffer[s++]<<24|this.buffer[s++]<<16|this.buffer[s++]<<8|this.buffer[s++]):this.chunks.push(r),s<0)break}return!0},i.decodeRedeemScript=function(e){var t=!1;try{var s=B.script(Crypto.util.hexToBytes(e));if(3<=s.chunks.length&&174==s.chunks[s.chunks.length-1]){(t={}).signaturesRequired=s.chunks[0]-80;for(var r=[],i=1;i<s.chunks.length-2;i++)r.push(Crypto.util.bytesToHex(s.chunks[i]));t.pubkeys=r;var n=B.pubkeys2MultisigAddress(r,t.signaturesRequired);t.address=n.address,t.type="multisig__";var c=Crypto.util.bytesToHex(s.buffer);t.redeemscript=c}else if(2==s.chunks.length&&0==s.buffer[0]&&20==s.buffer[1]){t={type:"segwit__"};c=Crypto.util.bytesToHex(s.buffer);t.address=B.pubkey2address(c,B.multisig),t.redeemscript=c}else if(5==s.chunks.length&&177==s.chunks[1]&&117==s.chunks[2]&&172==s.chunks[4]){(t={}).pubkey=Crypto.util.bytesToHex(s.chunks[3]),t.checklocktimeverify=B.bytesToNum(s.chunks[0].slice()),t.address=B.simpleHodlAddress(t.pubkey,t.checklocktimeverify).address;c=Crypto.util.bytesToHex(s.buffer);t.redeemscript=c,t.type="hodl__"}}catch(e){t=!1}return t},i.spendToScript=function(e){var t=B.addressDecode(e),s=B.script();return"bech32"==t.type?(s.writeOp(0),s.writeBytes(Crypto.util.hexToBytes(t.redeemscript))):t.version==B.multisig?(s.writeOp(169),s.writeBytes(t.bytes),s.writeOp(135)):(s.writeOp(118),s.writeOp(169),s.writeBytes(t.bytes),s.writeOp(136),s.writeOp(172)),s},i.pubkeyHash=function(e){var t=B.addressDecode(e),s=B.script();return s.writeOp(118),s.writeOp(169),s.writeBytes(t.bytes),s.writeOp(136),s.writeOp(172),s},i.writeOp=function(e){return this.buffer.push(e),this.chunks.push(e),!0},i.writeBytes=function(e){return e.length<76?this.buffer.push(e.length):e.length<=255?(this.buffer.push(76),this.buffer.push(e.length)):e.length<=65535?(this.buffer.push(77),this.buffer.push(255&e.length),this.buffer.push(e.length>>>8&255)):(this.buffer.push(78),this.buffer.push(255&e.length),this.buffer.push(e.length>>>8&255),this.buffer.push(e.length>>>16&255),this.buffer.push(e.length>>>24&255)),this.buffer=this.buffer.concat(e),this.chunks.push(e),!0},i.parse(),i},B.transaction=function(){var n={version:1,lock_time:0,ins:[],outs:[],witness:!1,timestamp:null,block:null,addinput:function(e,t,s,r){var i={};return i.outpoint={hash:e,index:t},i.script=B.script(s||[]),i.sequence=r||(0==n.lock_time?4294967295:0),this.ins.push(i)},addoutput:function(e,t){var s={};s.value=new BigInteger(""+Math.round(1*t*1e8),10);var r=B.script();return s.script=r.spendToScript(e),this.outs.push(s)},addstealth:function(e,t){var s=BigInteger.fromByteArrayUnsigned(Crypto.util.hexToBytes(B.newPrivkey())),r=EllipticCurve.getSECCurveByName("secp256k1"),i=EllipticCurve.fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F"),n=BigInteger.ZERO,c=EllipticCurve.fromHex("7"),a=new EllipticCurve.CurveFp(i,n,c),o=r.getG().multiply(s),u=a.decodePointHex(e.scankey).multiply(s),f=BigInteger.fromByteArrayUnsigned(Crypto.SHA256(u.getEncoded(!0),{asBytes:!0})),p=r.getG().multiply(f),h=a.decodePointHex(e.spendkey).add(p),y=B.pubkey2address(Crypto.util.bytesToHex(h.getEncoded(!0))),d=[6].concat(Crypto.util.randomBytes(4)).concat(o.getEncoded(!0)),l=B.script();l.writeOp(106),l.writeBytes(d),v={value:0},v.script=l,this.outs.push(v);var b={};b.value=new BigInteger(""+Math.round(1*t*1e8),10);var g=B.script();return b.script=g.spendToScript(y),this.outs.push(b)},adddata:function(e){if(e.match(/^[a-f0-9]+$/gi)&&e.length<160&&e.length%2==0){var t=B.script();return t.writeOp(106),t.writeBytes(Crypto.util.hexToBytes(e)),o={value:0},o.script=t,this.outs.push(o)}return!1},listUnspent:function(e,t){B.ajax(B.host+"?uid="+B.uid+"&key="+B.key+"&setmodule=addresses&request=unspent&address="+e+"&r="+Math.random(),t,"GET")},addUnspent:function(e,h,y,d,l){var b=this;this.listUnspent(e,function(e){var t=B.script(),s=0,r=0,n={};window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e));var c=xmlDoc.getElementsByTagName("unspent")[0];for(i=1;i<=c.childElementCount;i++){var a=xmlDoc.getElementsByTagName("unspent_"+i)[0],o=a.getElementsByTagName("tx_hash")[0].childNodes[0].nodeValue.match(/.{1,2}/g).reverse().join("")+"",u=a.getElementsByTagName("tx_output_n")[0].childNodes[0].nodeValue,f=y||a.getElementsByTagName("script")[0].childNodes[0].nodeValue;d&&((t=B.script()).writeBytes(Crypto.util.hexToBytes(y)),t.writeOp(0),t.writeBytes(B.numToBytes(1*a.getElementsByTagName("value")[0].childNodes[0].nodeValue,8)),f=Crypto.util.bytesToHex(t.buffer));var p=l||!1;b.addinput(o,u,f,p),s+=1*a.getElementsByTagName("value")[0].childNodes[0].nodeValue,r++}return n.unspent=$(xmlDoc).find("unspent"),n.value=s,n.total=r,h(n)})},addUnspentAndSign:function(t,s){var r=this,e=B.wif2address(t);r.addUnspent(e.address,function(e){return r.sign(t),s(e)})},broadcast:function(e,t){var s=t||this.serialize();B.ajax(B.host+"?uid="+B.uid+"&key="+B.key+"&setmodule=bitcoin&request=sendrawtransaction&rawtx="+s+"&r="+Math.random(),e,"GET")},transactionHash:function(e,t){for(var s=B.clone(this),r=t||1,i=0;i<s.ins.length;i++)e!=i&&(s.ins[i].script=B.script());var n=this.extractScriptKey(e);if(s.ins[e].script=B.script(n.script),s.ins&&s.ins[e]){if(1==r);else if(2==r){s.outs=[];for(i=0;i<s.ins.length;i++)e!=i&&(s.ins[i].sequence=0)}else if(3==r){s.outs.length=e+1;for(i=0;i<e;i++)s.outs[i].value=-1,s.outs[i].script.buffer=[];for(i=0;i<s.ins.length;i++)e!=i&&(s.ins[i].sequence=0)}else if(128<=r)if(s.ins=[s.ins[e]],129==r);else if(130==r)s.outs=[];else if(131==r){s.outs.length=e+1;for(i=0;i<e;i++)s.outs[i].value=-1,s.outs[i].script.buffer=[]}var c=Crypto.util.hexToBytes(s.serialize());c=c.concat(B.numToBytes(parseInt(r),4));var a=Crypto.SHA256(c,{asBytes:!0});return Crypto.util.bytesToHex(Crypto.SHA256(a,{asBytes:!0}))}return!1},transactionHashSegWitV0:function(e,t){var s=this.extractScriptKey(e);if("segwit"!=s.type)return{result:0,fail:"redeemscript",response:"redeemscript missing or not valid for segwit"};if(-1==s.value)return{result:0,fail:"value",response:"unable to generate a valid segwit hash without a value"};var r=Crypto.util.hexToBytes(s.script);20==r.length&&(r=[0,20].concat(r)),22==r.length&&((r=r.slice(1)).unshift(25,118,169),r.push(136,172));var i=B.numToBytes(s.value,8),n=B.numToBytes(0,32),c=B.numToBytes(parseInt(this.version),4),a=[];if(!(80<=t))for(var o=0;o<this.ins.length;o++)a=(a=a.concat(Crypto.util.hexToBytes(this.ins[o].outpoint.hash).reverse())).concat(B.numToBytes(this.ins[o].outpoint.index,4));var u=1<=a.length?Crypto.SHA256(Crypto.SHA256(a,{asBytes:!0}),{asBytes:!0}):n;a=[];if(!(80<=t)&&2!=t&&3!=t)for(o=0;o<this.ins.length;o++)a=a.concat(B.numToBytes(this.ins[o].sequence,4));var f=1<=a.length?Crypto.SHA256(Crypto.SHA256(a,{asBytes:!0}),{asBytes:!0}):n,p=Crypto.util.hexToBytes(this.ins[e].outpoint.hash).reverse();p=p.concat(B.numToBytes(this.ins[e].outpoint.index,4));var h=B.numToBytes(this.ins[e].sequence,4),y=n;a=[];if(2!=t&&3!=t){for(o=0;o<this.outs.length;o++)a=(a=(a=a.concat(B.numToBytes(this.outs[o].value,8))).concat(B.numToVarInt(this.outs[o].script.buffer.length))).concat(this.outs[o].script.buffer);y=Crypto.SHA256(Crypto.SHA256(a,{asBytes:!0}),{asBytes:!0})}else 2==t&&e<this.outs.length&&(a=(a=(a=a.concat(B.numToBytes(this.outs[e].value,8))).concat(B.numToVarInt(this.outs[o].script.buffer.length))).concat(this.outs[e].script.buffer),y=Crypto.SHA256(Crypto.SHA256(a,{asBytes:!0}),{asBytes:!0}));var d=B.numToBytes(this.lock_time,4),l=B.numToBytes(t,4),b=[];b=(b=(b=(b=(b=(b=(b=(b=(b=(b=b.concat(c)).concat(u)).concat(f)).concat(p)).concat(r)).concat(i)).concat(h)).concat(y)).concat(d)).concat(l);var g=Crypto.SHA256(b,{asBytes:!0});return{result:1,hash:Crypto.util.bytesToHex(Crypto.SHA256(g,{asBytes:!0})),response:"hash generated"}},extractScriptKey:function(e){if(this.ins[e]){if(5==this.ins[e].script.chunks.length&&172==this.ins[e].script.chunks[4]&&B.isArray(this.ins[e].script.chunks[2]))return{type:"scriptpubkey",signed:"false",signatures:0,script:Crypto.util.bytesToHex(this.ins[e].script.buffer)};if(2==this.ins[e].script.chunks.length&&48==this.ins[e].script.chunks[0][0]&&5==this.ins[e].script.chunks[1].length&&177==this.ins[e].script.chunks[1][1])return{type:"hodl",signed:"true",signatures:1,script:Crypto.util.bytesToHex(this.ins[e].script.buffer)};if(2==this.ins[e].script.chunks.length&&48==this.ins[e].script.chunks[0][0])return{type:"scriptpubkey",signed:"true",signatures:1,script:Crypto.util.bytesToHex(this.ins[e].script.buffer)};if(5==this.ins[e].script.chunks.length&&177==this.ins[e].script.chunks[1])return{type:"hodl",signed:"false",signatures:0,script:Crypto.util.bytesToHex(this.ins[e].script.buffer)};if(this.ins[e].script.chunks.length<=3&&0<this.ins[e].script.chunks.length&&(22==this.ins[e].script.chunks[0].length&&0==this.ins[e].script.chunks[0][0]||20==this.ins[e].script.chunks[0].length&&0==this.ins[e].script.chunks[1])){var t=this.witness[e]&&2==this.witness[e].length?"true":"false",s="true"==t?1:0,r=-1;return this.ins[e].script.chunks[2]&&8==this.ins[e].script.chunks[2].length&&(r=B.bytesToNum(this.ins[e].script.chunks[2])),{type:"segwit",signed:t,signatures:s,script:Crypto.util.bytesToHex(this.ins[e].script.chunks[0]),value:r}}return 0==this.ins[e].script.chunks[0]&&174==this.ins[e].script.chunks[this.ins[e].script.chunks.length-1][this.ins[e].script.chunks[this.ins[e].script.chunks.length-1].length-1]?{type:"multisig",signed:"true",signatures:this.ins[e].script.chunks.length-2,script:Crypto.util.bytesToHex(this.ins[e].script.chunks[this.ins[e].script.chunks.length-1])}:80<=this.ins[e].script.chunks[0]&&174==this.ins[e].script.chunks[this.ins[e].script.chunks.length-1]?{type:"multisig",signed:"false",signatures:0,script:Crypto.util.bytesToHex(this.ins[e].script.buffer)}:0==this.ins[e].script.chunks.length?{type:"empty",signed:"false",signatures:0,script:""}:{type:"unknown",signed:"false",signatures:0,script:Crypto.util.bytesToHex(this.ins[e].script.buffer)}}return!1},transactionSig:function(e,t,s,r){var i,n,c,a,o=s||1,u=r||Crypto.util.hexToBytes(this.transactionHash(e,o));if(u){var f=EllipticCurve.getSECCurveByName("secp256k1"),p=B.wif2privkey(t),h=BigInteger.fromByteArrayUnsigned(Crypto.util.hexToBytes(p.privkey)),y=f.getN(),d=BigInteger.fromByteArrayUnsigned(u),l=0;do{var b=this.deterministicK(t,u,l),g=f.getG().multiply(b).getX().toBigInteger().mod(y),v=b.modInverse(y).multiply(d.add(h.multiply(g))).mod(y);l++}while(g.compareTo(BigInteger.ZERO)<=0||v.compareTo(BigInteger.ZERO)<=0);var k=y.shiftRight(1);0<v.compareTo(k)&&(v=y.subtract(v));var m=(i=v,n=g.toByteArraySigned(),c=i.toByteArraySigned(),(a=[]).push(2),a.push(n.length),(a=a.concat(n)).push(2),a.push(c.length),(a=a.concat(c)).unshift(a.length),a.unshift(48),a);return m.push(parseInt(o,10)),Crypto.util.bytesToHex(m)}return!1},deterministicK:function(e,t,s){s=s||0;var r=B.wif2privkey(e),i=Crypto.util.hexToBytes(r.privkey),n=EllipticCurve.getSECCurveByName("secp256k1").getN(),c=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];a=Crypto.HMAC(Crypto.SHA256,c.concat([0]).concat(i).concat(t),a,{asBytes:!0}),c=Crypto.HMAC(Crypto.SHA256,c,a,{asBytes:!0}),a=Crypto.HMAC(Crypto.SHA256,c.concat([1]).concat(i).concat(t),a,{asBytes:!0}),c=Crypto.HMAC(Crypto.SHA256,c,a,{asBytes:!0});var o=[];o=c=Crypto.HMAC(Crypto.SHA256,c,a,{asBytes:!0});for(var u=BigInteger.fromByteArrayUnsigned(o),f=0;0<=u.compareTo(n)||u.compareTo(BigInteger.ZERO)<=0||f<s;)a=Crypto.HMAC(Crypto.SHA256,c.concat([0]),a,{asBytes:!0}),c=Crypto.HMAC(Crypto.SHA256,c,a,{asBytes:!0}),o=c=Crypto.HMAC(Crypto.SHA256,c,a,{asBytes:!0}),u=BigInteger.fromByteArrayUnsigned(o),f++;return u},signinput:function(e,t,s){var r=B.wif2pubkey(t),i=s||1,n=this.transactionSig(e,t,i),c=B.script();return c.writeBytes(Crypto.util.hexToBytes(n)),c.writeBytes(Crypto.util.hexToBytes(r.pubkey)),this.ins[e].script=c,!0},signhodl:function(e,t,s){var r=s||1,i=this.transactionSig(e,t,r),n=this.ins[e].script.buffer,c=B.script();return c.writeBytes(Crypto.util.hexToBytes(i)),c.writeBytes(n),this.ins[e].script=c,!0},signmultisig:function(e,t,s){var r=174==this.ins[e].script.chunks[this.ins[e].script.chunks.length-1]?this.ins[e].script.buffer:this.ins[e].script.chunks[this.ins[e].script.chunks.length-1],i=function(e){for(var t={},s=1;s<e.chunks.length-2;s++)t[s]=Crypto.util.hexToBytes(B.pubkeydecompress(Crypto.util.bytesToHex(e.chunks[s])));return t}(B.script(r)),n=function(e){var t={},s=0;if(0==e.chunks[0]&&174==e.chunks[e.chunks.length-1][e.chunks[e.chunks.length-1].length-1])for(var r=1;r<e.chunks.length-1;r++)0!=e.chunks[r]&&(t[++s]=e.chunks[r]);return t}(this.ins[e].script),c=s||1,a=Crypto.util.hexToBytes(this.transactionHash(e,c)),o=Crypto.util.hexToBytes(this.transactionSig(e,t,c));n[B.countObject(n)+1]=o;var u=B.script();for(x in u.writeOp(0),i)for(y in n)this.ins[e].script.buffer=r,a=Crypto.util.hexToBytes(this.transactionHash(e,1*n[y].slice(-1)[0])),B.verifySignature(a,n[y],i[x])&&u.writeBytes(n[y]);return u.writeBytes(r),this.ins[e].script=u,!0},signsegwit:function(e,t,s){var r=s||1,i=B.wif2pubkey(t),n=B.segwitAddress(i.pubkey),c=B.bech32Address(i.pubkey);if(n.redeemscript==Crypto.util.bytesToHex(this.ins[e].script.chunks[0])||c.redeemscript==Crypto.util.bytesToHex(this.ins[e].script.chunks[0])){var a=this.transactionHashSegWitV0(e,r);if(1==a.result){var o=Crypto.util.hexToBytes(a.hash),u=this.transactionSig(e,t,r,o),f=B.script();f.writeBytes(this.ins[e].script.chunks[0]),this.ins[e].script=f,B.isArray(this.witness)||(this.witness=[]),this.witness.push([u,i.pubkey]);for(var p=[],h=[],y=0;y<this.ins.length;y++)for(var d=0;d<this.witness.length;d++)if(!h.includes(d)){var l=B.segwitAddress(this.witness[d][1]),b=B.bech32Address(this.witness[d][1]),g="";if(1<=this.ins[y].script.chunks.length?g=Crypto.util.bytesToHex(this.ins[y].script.chunks[0]):0==this.ins[y].script.chunks.length&&(g=b.redeemscript),l.redeemscript==g||b.redeemscript==g){p.push(this.witness[d]),h.push(d),b.redeemscript==g&&(this.ins[e].script=B.script());break}}this.witness=p}}return!0},sign:function(e,t){for(var s=t||1,r=0;r<this.ins.length;r++){var i=this.extractScriptKey(r),n=B.wif2address(e),c=B.script().pubkeyHash(n.address);("scriptpubkey"==i.type&&i.script==Crypto.util.bytesToHex(c.buffer)||"empty"==i.type)&&"false"==i.signed?this.signinput(r,e,s):"hodl"==i.type&&"false"==i.signed?this.signhodl(r,e,s):"multisig"==i.type?this.signmultisig(r,e,s):"segwit"==i.type&&this.signsegwit(r,e,s)}return this.serialize()},serialize:function(){var e=[];e=e.concat(B.numToBytes(parseInt(this.version),4)),B.isArray(this.witness)&&(e=e.concat([0,1])),e=e.concat(B.numToVarInt(this.ins.length));for(var t=0;t<this.ins.length;t++){var s=this.ins[t];e=(e=e.concat(Crypto.util.hexToBytes(s.outpoint.hash).reverse())).concat(B.numToBytes(parseInt(s.outpoint.index),4));var r=s.script.buffer;e=(e=(e=e.concat(B.numToVarInt(r.length))).concat(r)).concat(B.numToBytes(parseInt(s.sequence),4))}e=e.concat(B.numToVarInt(this.outs.length));for(t=0;t<this.outs.length;t++){var i=this.outs[t];e=e.concat(B.numToBytes(i.value,8));r=i.script.buffer;e=(e=e.concat(B.numToVarInt(r.length))).concat(r)}if(B.isArray(this.witness)&&1<=this.witness.length)for(t=0;t<this.witness.length;t++){e=e.concat(B.numToVarInt(this.witness[t].length));for(var n=0;n<this.witness[t].length;n++)e=(e=e.concat(B.numToVarInt(Crypto.util.hexToBytes(this.witness[t][n]).length))).concat(Crypto.util.hexToBytes(this.witness[t][n]))}return e=e.concat(B.numToBytes(parseInt(this.lock_time),4)),Crypto.util.bytesToHex(e)},deserialize:function(t){"string"==typeof t&&(t=Crypto.util.hexToBytes(t));var s=0,e=!1,r=function(e){return 0==e?0:t[++s-1]+256*r(e-1)},i=function(){return t[++s-1]<253?t[s-1]:r(t[s-1]-251)},n=function(e){return s+=e,t.slice(s-e,s)},c=function(){var e=i();return n(e)},a=new B.transaction;a.version=r(4),0==t[s]&&1==t[s+1]&&(e=!0,a.witness=[],s+=2);for(var o=i(),u=0;u<o;u++)a.ins.push({outpoint:{hash:Crypto.util.bytesToHex(n(32).reverse()),index:r(4)},script:B.script(c()),sequence:r(4)});var f=i();for(u=0;u<f;u++)a.outs.push({value:B.bytesToNum(n(8)),script:B.script(c())});if(1==e)for(u=0;u<o;++u)for(var p=i(),h=0;h<p;h++){var y=i();s+=y,B.isArray(a.witness[u])||(a.witness[u]=[]),a.witness[u].push(Crypto.util.bytesToHex(t.slice(s-y,s)))}return a.lock_time=r(4),a},size:function(){return(this.serialize().length/2).toFixed(0)}};return n},B.verifySignature=function(e,t,s){var r,i,n;if(B.isArray(t)){var c=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if((t=2)!=e[t])throw new Error("First element in signature must be a DERInteger");var s=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:BigInteger.fromByteArrayUnsigned(s),s:BigInteger.fromByteArrayUnsigned(r)}}(t);r=c.r,i=c.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";r=t.r,i=t.s}if(!B.isArray(s))throw"Invalid format for pubkey value, must be byte array";var a=EllipticCurve.getSECCurveByName("secp256k1");n=EllipticCurve.PointFp.decodeFrom(a.getCurve(),s);var o=BigInteger.fromByteArrayUnsigned(e);return B.verifySignatureRaw(o,r,i,n)},B.verifySignatureRaw=function(e,t,s,r){var i=EllipticCurve.getSECCurveByName("secp256k1"),n=i.getN(),c=i.getG();if(t.compareTo(BigInteger.ONE)<0||0<=t.compareTo(n))return!1;if(s.compareTo(BigInteger.ONE)<0||0<=s.compareTo(n))return!1;var a=s.modInverse(n),o=e.multiply(a).mod(n),u=t.multiply(a).mod(n);return c.multiply(o).add(r.multiply(u)).getX().toBigInteger().mod(n).equals(t)},B.base58encode=function(e){for(var t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=BigInteger.valueOf(58),r=BigInteger.fromByteArrayUnsigned(e),i=[];0<=r.compareTo(s);){var n=r.mod(s);i.unshift(t[n.intValue()]),r=r.subtract(n).divide(s)}i.unshift(t[r.intValue()]);for(var c=0;c<e.length&&0==e[c];c++)i.unshift(t[0]);return i.join("")},B.base58decode=function(e){for(var t=BigInteger.valueOf(58),s=BigInteger.valueOf(0),r=0,i=e.length-1;0<=i;i--){var n="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".indexOf(e[i]);if(n<0)throw"Invalid character";s=s.add(BigInteger.valueOf(n).multiply(t.pow(e.length-1-i))),"1"==e[i]?r++:r=0}for(var c=s.toByteArrayUnsigned();0<r--;)c.unshift(0);return c},B.ajax=function(e,t,s,r){var i=!1;try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){i=new XMLHttpRequest}}if(0==i)return!1;i.open(s,e,!0),i.onreadystatechange=function(){4==i.readyState&&t&&t(i.responseText)},"POST"==s&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(r)},B.clone=function(e){if(null==e||"object"!=typeof e)return e;var t=new e.constructor;for(var s in e)e.hasOwnProperty(s)&&(t[s]=B.clone(e[s]));return t},B.numToBytes=function(e,t){return void 0===t&&(t=8),0==t?[]:-1==e?Crypto.util.hexToBytes("ffffffffffffffff"):[e%256].concat(B.numToBytes(Math.floor(e/256),t-1))},B.numToByteArray=function(e){return e<=256?[e]:[e%256].concat(B.numToByteArray(Math.floor(e/256)))},B.numToVarInt=function(e){return e<253?[e]:e<65536?[253].concat(B.numToBytes(e,2)):e<4294967296?[254].concat(B.numToBytes(e,4)):[255].concat(B.numToBytes(e,8))},B.bytesToNum=function(e){return 0==e.length?0:e[0]+256*B.bytesToNum(e.slice(1))},B.uint=function(e,t){if(e.length<t)throw new Error("not enough data");for(var s=0,r=0;r<t;r++)s*=256,s+=e[r];return s},B.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},B.countObject=function(e){var t,s=0;for(t in e)e.hasOwnProperty(t)&&s++;return s},B.random=function(e){var t="",s=e||25;for(x=0;x<s;x++)t+="!$%^&*()_+{}:@~?><|./;'#][=-abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".charAt(Math.floor(62*Math.random()));return t}}();
